@(config: models.cm.brand.ApiConfig)

<div class="b-setapi js-set-api @if(config.active){b-setapi_state_active} @if(!config.isEmpty){b-setapi_state_view}"
    data-brand-id="@config.brandId">
    <h4 class="b-setapi__main">API</h4>
    <p>
        API allows to integrate your website with Happy Melly Teller.
        For example, you can show event schedule or profiles of facilitators on your website. You can also integrate
        an evaluation form to collect feedback from attendees.
    </p>

    <div class="b-setapi__deactive">
        <a href="#" class="btn btn-primary b-setapi__btn-active"
            data-setapi-activate>
            Activate
        </a>
    </div>

    <div class="b-setapi__active">
        <a href="javascript: void(0)"
            class="btn btn-default b-setapi__btn-deactive"
            data-setapi-promptbtn>
            Deactivate
        </a>

        <h3 class="b-setapi__title">
            Token
        </h3>
        <p>
            API requests require authentication by application-specific token.
            Your token is:
        </p>
        <div class="b-setapi__token">
            @config.token
        </div>
        <p>
            To learn how to use API and integrate it with your website,
                <a target="_blank" href="@controllers.core.routes.Dashboard.apiv2()" class="link-mblue">read the instructions</a>.
        </p>
        <div class="b-setapi__diveder"></div>

        <h3 class="b-setapi__title">
            Specify URLs to the pages on your website including:
        </h3>

        <div class="b-api-active">
            <p>
                specific event or facilitator, general evaluation form and evaluation form for a specific event.
            </p>
            <a href="#" class="btn btn-primary b-api-active__btn" data-setapi-specify>
                Specify URLâ€™s
            </a>
        </div>

        <form class="b-apiform" data-setapi-form>
            <div class="b-apiform__i">
                <div class="b-apiform__hint state_hovered" data-placement="right" data-toggle="tooltip" title="Used in emails to potential attendees when they filled in event request form on your website to be notified about upcoming events in their area">
                    <div class="question">?</div>
                    <div class="text">Where is it used</div>
                </div>
                <div class="b-apiform__label">
                    Specific event
                </div>
                <input type="text"
                    name="event"
                    title="Specific event"
                    class="b-apiform__input form-control input-sm type-optional"
                    placeholder="http://yourwebsite.com/event/*EventId*"
                    value="@config.event" />

                <div class="b-apiform__subtext">
                    Use *EventId* combination instead of Event Id number.
                </div>
            </div>
            <div class="b-apiform__i">
                <div class="b-apiform__hint" data-placement="right" data-toggle="tooltip" title="Used on a public event page which facilitators could use to promote their event. If not set, visitors won't be able to check facilitators' profile">
                    <div class="question">?</div>
                    <div class="text">Where is it used</div>
                </div>
                <div class="b-apiform__label">
                    Specific facilitator
                </div>
                <input type="text"
                    name="facilitator"
                    title="Specific facilitator"
                    class="b-apiform__input form-control input-sm type-optional"
                    placeholder="http://yourwebsite.com/facilitator/*FacilitatorId*"
                    value="@config.facilitator"/>

                <div class="b-apiform__subtext">
                    Use *FacilitatoriId* combination instead of Facilitator Id number.
                </div>
            </div>
            <div class="b-apiform__i">
                <div class="b-apiform__hint" data-placement="right" data-toggle="tooltip" title="Used in evaluation request email sent by facilitators to event attendees. You should fill in either this field or the next one to allow facilitators to send evaluation requests">
                    <div class="question">?</div>
                    <div class="text">Where is it used</div>
                </div>
                <div class="b-apiform__label">
                    Evaluation form
                </div>
                <input type="text"
                    name="generalEvaluation"
                    title="Evaluation form"
                    class="b-apiform__input form-control input-sm type-optional"
                    placeholder="http://yourwebsite.com/evaluation/"
                    value="@config.generalEvaluation"/>

            </div>
            <div class="b-apiform__i">
                <div class="b-apiform__hint" data-placement="right" data-toggle="tooltip" title="Used in evaluation request email sent by facilitators to event attendees. You should fill in either this field or the previous one to allow facilitators to send evaluation requests">
                    <div class="question">?</div>
                    <div class="text">Where is it used</div>
                </div>
                <div class="b-apiform__label">
                    Evaluation form for a specific event
                </div>
                <input type="text"
                    name="specificEventEvaluation"
                    title="Evaluation form for a specific event"
                    class="b-apiform__input form-control input-sm type-optional"
                    placeholder="http://yourwebsite.com/evaluation/*EventId*/*FacilitatorId*"
                    value="@config.specificEventEvaluation"/>

                <div class="b-apiform__subtext">
                    Use *EventId* combination instead of Event Id number. You can also use *FacilitatoriId* combination instead of Facilitator Id number.
                </div>
            </div>
            <div class="b-apiform__buttons">
                <a href="#" class="btn btn-default b-apiform__btn-cancel"
                    data-setapi-form-cancel>
                    Cancel
                </a>
                <a href="#" class="btn btn-primary b-apiform__btn-save"
                    data-setapi-form-save>
                    Save
                </a>
            </div>
            <div class="b-apiform__errors" data-setapi-errors></div>
        </form>

        <div class="b-apiview" data-setapi-view>
            <div class="b-apiview__i" data-setapi-field="event">
                <b>Specific event</b>
                <div class="b-apiview__text">
                    http://management30.com/events/*EventId*
                </div>
                <a href="#" class="link-blue b-apiview__link">+ Add url</a>
            </div>
            <div class="b-apiview__i" data-setapi-field="facilitator">
                <b>Specific facilitator</b>
                <div class="b-apiview__text">
                    http://management30.com/facilitators/about/?trainer=*siminderova_alexandra*
                </div>
                <a href="#" class="link-blue b-apiview__link">+ Add url</a>
            </div>
            <div class="b-apiview__i" data-setapi-field="generalEvaluation">
                <b>Evaluation form</b>
                <div class="b-apiview__text">
                    http://management30.com/facilitators/about/?trainer=*siminderova_alexandra*
                </div>
                <a href="#" class="link-blue b-apiview__link">+ Add url</a>
            </div>
            <div class="b-apiview__i" data-setapi-field="specificEventEvaluation">
                <b>Evaluation form for a specific event</b>
                <div class="b-apiview__text">
                    http://management30.com/facilitators/about/?trainer=*siminderova_alexandra*
                </div>
                <a href="#" class="link-blue b-apiview__link">+ Add url</a>
            </div>

            <a href="#" class="btn btn-primary b-apiview__btn" data-setapi-editform>
                Edit information
            </a>
        </div>

    </div>

    <div id="dlg-apiset" class="modal fade b-prompt " tabindex="-1" role="dialog" aria-labelledby="requestLabel" aria-hidden="true" data-setapi-modal>
    @v2.html.prompt("") {
        <h3 class="b-prompt__title">
            Are you sure you want to deactivate API?
        </h3>
        <div class="b-prompt__text">
            Deactivation will block communication with your website.
            You can always reactivate it later.
        </div>
        <div class="b-prompt__buttons">
            <a href="#" class="btn btn-default b-prompt__btn-cancel" data-dismiss="modal">
                No, stay active
            </a>
            <a href="#" class="btn btn-primary b-prompt__btn-accept"
                data-dismiss="modal"
                data-setapi-deacticate>
                Yes, deactivate API
            </a>
        </div>
    }
    </div>
</div>