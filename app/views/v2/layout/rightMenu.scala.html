@(user: ActiveUser)(implicit request: Request[Any],
        handler: be.objectify.deadbolt.scala.DeadboltHandler)

@import be.objectify.deadbolt.core.utils.TemplateUtils.as
@import be.objectify.deadbolt.scala.views.html._
@import models.UserRole.Role._

<ul class="nav navbar-nav navbar-right">
    @views.html.v2.element.roleSwitcher(user.account)
    <li class="dropdown dropdown__con">
        <span class="dropdown-toggle" data-toggle="dropdown">
             <span class="dropdown-toggle__user">@user.person.fullName</span>
            <b class="caret"></b>
        </span>
        @views.html.v2.element.notificationList()
        <ul class="dropdown-menu">
            <li><a href="@core.routes.Dashboard.profile()">
                <i class="glyphicon glyphicon-user"></i>&nbsp;&nbsp;&nbsp;Profile</a></li>
            <li><a href="@core.routes.UserAccounts.account()">
                <i class="glyphicon glyphicon-pencil"></i> &nbsp;&nbsp;Manage account</a>
            </li>
            <li class="divider"></li>
            @restrict(handler, List(as(Admin.toString))) {
                <li><a href="@controllers.admin.routes.Usage.index()">Usage</a></li>
                <li><a href="@core.routes.Dashboard.about()">About</a></li>
            }
            <li><a href="@core.routes.Dashboard.apiv2()"> API (v2)</a></li>
            <li class="divider"></li>
            <li>
                <a href="@core.routes.LoginPage.logout()">
                    <i class="glyphicon glyphicon-off"></i>&nbsp;&nbsp;&nbsp;Sign out</a></li>
        </ul>
    </li>
</ul>