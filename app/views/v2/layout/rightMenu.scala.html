@(user: ActiveUser)(implicit request: Request[Any],
        handler: be.objectify.deadbolt.scala.DeadboltHandler)

@import be.objectify.deadbolt.core.utils.TemplateUtils.as
@import be.objectify.deadbolt.scala.views.html._
@import models.UserRole.Role._

<ul class="nav navbar-nav navbar-right">
    @views.html.v2.element.roleSwitcher(user.account)
    <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            @user.person.fullName
            <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
            <li><a href="@routes.Dashboard.profile()">
                <i class="glyphicon glyphicon-user"></i>&nbsp;&nbsp;&nbsp;Profile</a></li>
            <li><a href="@routes.UserAccounts.account()">
                <i class="glyphicon glyphicon-user"></i>&nbsp;&nbsp;&nbsp;Manage accounts</a></li>
            <li class="divider"></li>
            @restrict(handler, List(as(Admin.toString))) {
                <li><a href="@controllers.admin.routes.Usage.index()">Usage</a></li>
                <li><a href="@routes.Dashboard.about()">About</a></li>
                <li><a href="@controllers.admin.routes.Administration.settings()">
                    Settings</a></li>
            }
            <li><a href="@routes.Dashboard.apiv2()"> API (v2)</a></li>
            <li class="divider"></li>
            <li>
                <a href="@routes.LoginPage.logout()">
                    <i class="glyphicon glyphicon-off"></i>&nbsp;&nbsp;&nbsp;Sign out</a></li>
        </ul>
    </li>
</ul>