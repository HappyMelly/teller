@(active: Boolean, lists: Seq[(String, String)])

<div class="b-integr @if(active) {b-integr_state_active} js-mailchimp-integration">
    <h4 class="b-integr__title-main">MailChimp</h4>
    <p>
        Connect a MailChimp account and automatically
        subscribe your attendees to MailChimp lists.
    </p>

    <div class="b-integr__deactive">
        <a href="@controllers.cm.facilitator.routes.MailChimp.activate()"
            class="btn btn-primary b-integr__btn-deactivate">
            Connect
        </a>
    </div>

    <div class="b-integr__active">
        <a href="javascript: void(0)"
            data-toggle="modal"
            data-target="#dlg-integration-disable"
            class="btn btn-default b-integr__btn-activate">
            Disconnect
        </a>

        <h4 class="b-integr__title">
            Set auto-importing to lists
        </h4>
        <p>
            Set connection between MailChimp lists and attendees of your events.
            Existing and new attendees will be automaticaly added to the lists.
            You can create new list right here and then import attendees in it.
        </p>

        <!-- list -->
        <div class="b-integr__list">
            <div class="b-integr__buttons">
                <a href="javascript: void(0)"
                    class="btn btn-primary b-integr__btn-import"
                    data-integ-import-btn>
                    Set importing to the list
                </a>
                <a href="#"
                    class="btn btn-default b-integr__btn-new">
                    Create new list and set importing
                </a>
            </div>
            <div data-integ-list>
                @views.html.v2.person.blocks.importingList()
            </div>
        </div>

        <!-- new list -->
        <div class="b-integr__nolist">
            <p>
                There’re no existing lists in your MailChimp account:
            </p>
            <a href="javascript: void(0)"
                class="btn btn-primary b-integr__btn-new">
                Create new list and set importing
            </a>
        </div>

        <!-- loading -->
        <div class="b-integr__loading">
            <p>
                <b>Please wait, we are importing your lists…</b>
            </p>
        </div>
    </div>

    <div id="dlg-importlist" class="modal fade b-modal dlg-interg-con" tabindex="-1" role="dialog" aria-labelledby="requestLabel" aria-hidden="true" data-integcreate-dlg>
    @v2.html.modal("", "Set importing to the list") {
        <form class="dlg-interg" action="#">
            <div class="dlg-interg__i">
                <div class="dlg-interg__label">
                    Select list
                </div>
                <select name="list_name" class="dlg-interg__select form-control" data-integcreate-list data-control></select>
            </div>
            <div class="dlg-interg__i">
                <div class="dlg-interg__label">
                    Select attendees to import
                </div>
                <select name="list_evaluations" class="dlg-interg__select form-control" data-control>
                    <option value="1">Only with evaluations</option>
                    <option value="2">Only without evaluations</option>
                    <option value="3">All</option>
                </select>
            </div>
            <div class="dlg-interg__i dlg-interg__include">
                <label class="b-checkbox">
                    <input name="list_include" type="checkbox" checked class="b-checkbox__real" data-control>
                    <i class="b-checkbox__img"></i>
                    <div class="b-checkbox__text">
                        Include attendees from previouse events
                    </div>
                </label>
            </div>

            <div class="dlg-interg__i">
                <div class="dlg-interg__label">
                    Select brand
                </div>
                <label class="b-checkbox">
                    <input type="checkbox" class="b-checkbox__real" name="check1" data-control>
                    <i class="b-checkbox__img"></i>
                    <div class="b-checkbox__text">
                        Managment 3.0
                    </div>
                </label>
                <label class="b-checkbox">
                    <input type="checkbox" class="b-checkbox__real" name="check2" data-control>
                    <i class="b-checkbox__img"></i>
                    <div class="b-checkbox__text">
                        Learning 3.0
                    </div>
                </label>
                <label class="b-checkbox">
                    <input type="checkbox" class="b-checkbox__real" name="check3" data-control>
                    <i class="b-checkbox__img"></i>
                    <div class="b-checkbox__text">
                        Kudobox
                    </div>
                </label>
            </div>
            <div class="dlg-interg__text">
                Attendees won’t be imported to the list if: <br>
                - attendee doesn’t have email or first or last name, <br>
                - selected list has requied fields other then first name, last name and email.
                    You can change it in your MailChimp account.
            </div>
            <div class="dlg-interg__buttons">
                <a href="javascript: void(0)"
                    data-integcreate-cancel
                    class="btn btn-default dlg-interg__cancel">
                    Cancel
                </a>
                <button type="submit"
                    data-integcreate-btn
                    class="btn btn-primary dlg-interg__submit">
                    Import
                </button>
            </div>
        </form>
    }
    </div>


    <div id="dlg-integration-disable" class="modal fade b-prompt " tabindex="-1" role="dialog" aria-labelledby="requestLabel" aria-hidden="true" data-integdisable-dlg>
    @v2.html.prompt("") {
        <h3 class="b-prompt__title">
            Are you sure you want to deactivate integration
        </h3>
        <div class="b-prompt__text">
            Disabling importing will stop adding new attendees to this list.
        </div>
        <div class="b-prompt__buttons">
            <a href="#" class="btn btn-primary b-prompt__btn-accept"
                data-dismiss="modal"
                data-integdisable-no>
                No, stay active
            </a>
            <a href="#" class="btn btn-default b-prompt__btn-cancel"
                data-dismiss="modal"
                data-integdisable-yes>
                Yes, deactivate Integration
            </a>
        </div>
    }
    </div>

</div>








