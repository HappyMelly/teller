@(user: UserIdentity,
  memberId: Long,
  form: Form[Experiment],
  testimonialId: Option[Long] = None)(implicit flash: Flash,
        request: Request[Any],
        handler: AuthorisationHandler,
        token: play.filters.csrf.CSRF.Token)

@import helper.CSRF
@import views.ViewHelpers._

@main("Experiment", "brand", user) {
  <div class="col-md-6">
    <div class="page-header">
      <h1>Add Experiment</h1>
    </div>
    @html.form(action = testimonialId.map { id =>
      CSRF(routes.Experiments.update(memberId, id))
    }.getOrElse {
      CSRF(routes.Experiments.create(memberId))
    }, 'enctype -> "multipart/form-data") {
      @html.text(form("name"), '_label -> "Name")
      @html.textarea(form("description"), '_label -> "Description",
        'rows -> "5", '_help -> views.html.element.markdownHelp())
      @html.file(form("file"), '_label -> "Picture")
      @html.text(form("url"), '_label -> "Url",
        'placeholder -> "http://", '_help -> "Web site URL")

      <div class="row">
        <div class="col-sm-3"></div>
        <div class="col-sm-9">
          <button class="btn btn-primary btn-block pull-right" type="submit">
            Save</button>
        </div>
      </div>
    }
  </div>
}