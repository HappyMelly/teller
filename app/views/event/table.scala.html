@(events: List[Event])(actions: (Event) => Html)
@import models.UserRole.Role._
@import be.objectify.deadbolt.scala.views.html._
@import be.objectify.deadbolt.core.utils.TemplateUtils._

@if(!events.isEmpty) {

  <table class="datatables table table-bordered">
    <thead>
        <tr>
          <th>Title</th>
          <th>Brand</th>
          <th>Facilitators</th>
          <th>City</th>
          <th>Country</th>
          <th>Dates</th>
          <th>Total hours</th>
          <th>Materials Language</th>
          <th></th>
        </tr>
    </thead>
    <tbody>
    @for(event <- events) {
        <tr>
            <td><a href="@routes.Events.details(event.id.getOrElse(0))">@event.title</a></td>
            <td><a href="@routes.Brands.details(event.brandCode)">@event.brandCode</a></td>
            <td>
                @for(facilitator <- event.facilitators) {
                    <a href="@routes.People.details(facilitator.id.getOrElse(0))">@facilitator.fullName</a><br/>
                }
            </td>
            <td>@event.location.city</td>
            <td>
                <img width="16" src="/assets/images/flags/16/@(event.location.countryCode.toLowerCase).png" align="absmiddle">
                @Messages("country." + event.location.countryCode)
            </td>
            <td>@event.schedule.start - @event.schedule.end</td>
            <td>@event.totalHours</td>
            <td>@event.materialsLanguage</td>
            <td>@actions(event)</td>
        </tr>
    }        
    </tbody>
  </table>
}