@(user: securesocial.core.Identity, entries: List[BookingEntrySummary])(implicit request: Request[Any], flash: Flash, handler: AuthorisationHandler)
@import models.UserRole.Role._
@import be.objectify.deadbolt.scala.views.html._
@import be.objectify.deadbolt.core.utils.TemplateUtils._
@import templates.Formatters._

@main("Booking entries", Some(user)) {

  <h1>Booking entries</h1>

  <p>This page provides an overview of financial booking entries, which record money owed between people and
    organisations in the Happy Melly network.</p>

  @if(!entries.isEmpty) {
    <div class="span16">
      <table id="entries" class="datatables table table-bordered">
      <thead>
        <tr>
          <th>Booking</th>
          <th>Book date</th>
          <th colspan="3">Amounts/Accounts</th>
          <th>Source</th>
          <th>%</th>
          <th>Brand</th>
        </tr>
      </thead>
      <tbody>
        @for(entry <- entries) {
          <tr>
            <td>
              <strong>@entry.summary</strong>
              <br>@entry.bookingNumber
            </td>
            <td>@entry.bookingDate</td>
            <td>
              @entry.fromAmount.format
              <br>@entry.from</td>
            <td>
              @if(entry.owes) {
                <span class="label label-inverse">owes <i class="icon-arrow-right icon-white"></i></span>
              } else {
                <span class="label label-important"><i class="icon-arrow-left icon-white"></i> owed by</span>
              }
            </td>
            <td>
              @entry.toAmount.format
              <br>@entry.to
            </td>
            <td>@entry.source.format</td>
            <td>@entry.sourcePercentage%</td>
            <td><a href="@routes.Brands.details(entry.brandCode)">@entry.brandCode</a></td>
          </tr>
        }
      </tbody>
      </table>
    </div>
  } else {
    <p>There are no entries.</p>
  }

	<script src="@routes.Assets.at("index.js")" type="text/javascript"></script>
}
