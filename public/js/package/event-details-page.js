!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(41)},,,function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i);t["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){e.exports={"default":n(6),__esModule:!0}},function(e,t,n){n(7);var r=n(10).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(8);r(r.S+r.F*!n(18),"Object",{defineProperty:n(14).f})},function(e,t,n){var r=n(9),i=n(10),o=n(11),a=n(13),c="prototype",u=function(e,t,n){var l,s,f,d=e&u.F,v=e&u.G,p=e&u.S,h=e&u.P,_=e&u.B,m=e&u.W,y=v?i:i[t]||(i[t]={}),b=y[c],g=v?r:p?r[t]:(r[t]||{})[c];v&&(n=t);for(l in n)s=!d&&g&&void 0!==g[l],s&&l in y||(f=s?g[l]:n[l],y[l]=v&&"function"!=typeof g[l]?n[l]:_&&s?o(f,r):m&&g[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[c]=e[c],t}(f):h&&"function"==typeof f?o(Function.call,f):f,h&&((y.virtual||(y.virtual={}))[l]=f,e&u.R&&b&&!b[l]&&a(b,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.2.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(12);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14),i=n(22);e.exports=n(18)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(15),i=n(17),o=n(21),a=Object.defineProperty;t.f=n(18)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(c){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(16);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(18)&&!n(19)(function(){return 7!=Object.defineProperty(n(20)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(16),i=n(9).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(16);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(4),c=r(a),u=function(){function e(t){(0,o["default"])(this,e),this.$root=$(t),this.locals=this._getDom(),this.$confirmDialog=null,this._assignEvents()}return(0,c["default"])(e,[{key:"_getDom",value:function(){return{$confirm:this.$root.find("[data-event-confirm]"),$cancel:this.$root.find("[data-event-cancel]")}}},{key:"_assignEvents",value:function(){this.$root.on("click","[data-event-confirm]",this._onClickConfirm.bind(this)).on("click","[data-event-cancel]",this._onClickCancel.bind(this)).on("click","#eventCancelButton",this._onClickAcceptCancel.bind(this))}},{key:"_onClickConfirm",value:function(e){e.preventDefault();var t=this,n=t.locals.$confirm.data("id");t._sendConfirm(n).done(function(){t.locals.$confirm.addClass("disabled").text("Confirmed").off("click"),success("Event was successfully confirmed")})}},{key:"_onClickCancel",value:function(e){e.preventDefault();var t=this,n=t.locals.$cancel.data("id");t._sendCancel(n).done(function(e){t.$confirmDialog=t._createDialog(e),t.$confirmDialog.modal("show")})}},{key:"_onClickAcceptCancel",value:function(e){e.preventDefault();var t=this,n=$("#cancelForm").serialize(),r=t.locals.$cancel.data("id");t._sendAcceptCancel(n,r).done(function(){t.$confirmDialog.on("hidden.bs.modal",function(){App.events.pub("hmt.event.cancel")}).modal("hide"),success("Event was successfully canceled")})}},{key:"_createDialog",value:function(e){var t="#cancelDialog",n=void 0;return $(t).remove(),n=$('<div id="'+t+'" class="b-modal modal fade" tabindex="-1">').attr("role","dialog").attr("aria-hidden","true").append(e),n.appendTo(this.$root),n}},{key:"_sendConfirm",value:function(e){var t=jsRoutes.controllers.cm.Events.confirm(e).url;return $.post(t,{})}},{key:"_sendCancel",value:function(e){var t=jsRoutes.controllers.cm.Events.reason(e).url;return $.get(t,{})}},{key:"_sendAcceptCancel",value:function(e,t){var n=jsRoutes.controllers.cm.Events.cancel(t).url;return $.post(n,e)}}],[{key:"plugin",value:function(t){var n=$(t);if(n.length)return n.each(function(t,n){var r=$(n),i=r.data("hmt.event.block");i||(i=new e(n),r.data("widget",i))})}}]),e}();t["default"]=u},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(35),o=r(i),a=n(42),c=r(a),u=n(43),l=r(u);$(function(){o["default"].plugin(".js-event-controls"),c["default"].plugin(".js-request-evaluation"),l["default"].plugin(".js-clipboard"),App.events.sub("hmt.event.cancel",function(){var e=$("#brandId").val();window.location.replace(jsRoutes.controllers.cm.Events.index(e).url)})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(4),c=r(a),u=function(){function e(t){(0,o["default"])(this,e),this.$root=$(t),this.locals=this._getDom(),this.template=_.template($("#request-dlg-template").html()),this._checkFormValidation(),this._assignEvent()}return(0,c["default"])(e,[{key:"_getDom",value:function(){var e=this.$root;return{$listParticipants:e.find("[data-requesteval-list]"),$textarea:e.find("[data-requesteval-textarea]"),$filterLinks:e.find("[data-requesteval-filter]"),$submit:e.find("[data-requesteval-submit]")}}},{key:"_assignEvent",value:function(){var e=this;this.$root.on("change","[data-requesteval-list] input",this._checkFormValidation.bind(this)).on("input propertychange","[data-requesteval-textarea]",this._checkFormValidation.bind(this)).on("click","[data-requesteval-filter]",function(t){t.preventDefault();var n=$(t.currentTarget);e._filterParticipants(n)}),App.events.sub("hmt.requestDlg.render",this._renderCheckboxes.bind(this))}},{key:"_checkFormValidation",value:function(){var e=this.locals,t=this.$root.find("[data-requesteval-list] input"),n=!0;t.filter(":checked").length||(n=!1),/https?:/i.test(e.$textarea.val())||(n=!1),n?e.$submit.removeAttr("disabled"):e.$submit.attr("disabled","disabled")}},{key:"_renderCheckboxes",value:function(e){var t=e.table._("tr",{}),n=void 0,r=void 0;for(n=0,r=t.length;r>n;n++){var i={index:n,value:t[n].person.id,name:t[n].person.name,status:$.isPlainObject(t[n].evaluation.status)},o=this.template(i);this.locals.$listParticipants.append(o)}}},{key:"_filterParticipants",value:function(e){var t=this.$root.find("[data-requesteval-list] input"),n=e.data("requesteval-filter"),r=this.locals.$filterLinks;if(!e.hasClass("state_selected")){switch(n){case"all":t.prop("checked",!0);break;case"with":t.prop("checked",!1).filter(".have-evaluation").prop("checked",!0);break;case"without":t.prop("checked",!0).filter(".have-evaluation").prop("checked",!1);break;default:t.prop("checked",!1)}r.removeClass("state_selected"),e.addClass("state_selected"),this._checkFormValidation()}}}],[{key:"plugin",value:function(t){var n=$(t);if(n.length)return n.each(function(t,n){var r=$(n),i=r.data("hmt.events.upcoming");i||(i=new e(n),r.data("widget",i))})}}]),e}();t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(4),c=r(a),u=function(){function e(t){return(0,o["default"])(this,e),this.root=t,this.$root=$(t),ZeroClipboard?(this.client=new ZeroClipboard(t),void this._assignEvents()):void console.log("there is no zeroclipboard dependency")}return(0,c["default"])(e,[{key:"_assignEvents",value:function(){this.client.on("ready",this._onEventReady.bind(this)).on("aftercopy",this._onEventAfter.bind(this))}},{key:"_onEventReady",value:function(){}},{key:"_onEventAfter",value:function(){var e=this,t=e.$root;t.addClass("state_copied").attr("title","Copied").tooltip("show"),setTimeout(function(){t.tooltip("hide").attr("title","").attr("data-original-title","").removeClass("state_copied")},2500)}}],[{key:"plugin",value:function(t){var n=$(t);if(n.length)return n.each(function(t,n){var r=$(n),i=r.data("widget-clipboard");i||(i=new e(n),r.data("widget",i))})}}]),e}();t["default"]=u}]);